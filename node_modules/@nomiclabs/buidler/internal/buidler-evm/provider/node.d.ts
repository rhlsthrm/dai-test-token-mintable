/// <reference types="bn.js" />
/// <reference types="node" />
/// <reference types="ethereumjs-block" />
import { RunBlockResult, TxReceipt } from "@nomiclabs/ethereumjs-vm/dist/runBlock";
import Common from "ethereumjs-common";
import { Transaction } from "ethereumjs-tx";
import { BN, ECDSASignature } from "ethereumjs-util";
import { CompilerInput, CompilerOutput } from "../stack-traces/compiler-types";
export declare type Block = any;
export interface GenesisAccount {
    privateKey: string;
    balance: string | number | BN;
}
export declare const COINBASE_ADDRESS: Buffer;
export interface CallParams {
    to: Buffer;
    from: Buffer;
    gasLimit: BN;
    gasPrice: BN;
    value: BN;
    data: Buffer;
}
export interface TransactionParams {
    to: Buffer;
    from: Buffer;
    gasLimit: BN;
    gasPrice: BN;
    value: BN;
    data: Buffer;
    nonce: BN;
}
export declare class TransactionExecutionError extends Error {
}
export interface TxBlockResult {
    receipt: TxReceipt;
    createAddresses: Buffer | undefined;
    bloomBitvector: Buffer;
}
export interface SolidityTracerOptions {
    solidityVersion: string;
    compilerInput: CompilerInput;
    compilerOutput: CompilerOutput;
}
export declare const SUPPORTED_HARDFORKS: string[];
export declare class BuidlerNode {
    private readonly _vm;
    private readonly _blockchain;
    private readonly _blockGasLimit;
    private readonly _throwOnTransactionFailures;
    private readonly _throwOnCallFailures;
    static create(hardfork: string, networkName: string, chainId: number, networkId: number, blockGasLimit: number, throwOnTransactionFailures: boolean, throwOnCallFailures: boolean, genesisAccounts?: GenesisAccount[], stackTracesOptions?: SolidityTracerOptions): Promise<[Common, BuidlerNode]>;
    private readonly _common;
    private readonly _stateManager;
    private readonly _accountPrivateKeys;
    private _blockTimeOffsetSeconds;
    private _transactionByHash;
    private _transactionHashToBlockHash;
    private _blockHashToTxBlockResults;
    private _blockHashToTotalDifficulty;
    private _lastFilterId;
    private _blockFiltersLastBlockSent;
    private _nextSnapshotId;
    private readonly _snapshots;
    private readonly _stackTracesEnabled;
    private readonly _vmTracer?;
    private readonly _solidityTracer?;
    private readonly _consoleLogger;
    private _failedStackTraces;
    private readonly _getLatestBlock;
    private readonly _getBlock;
    private constructor();
    getSignedTransaction(txParams: TransactionParams): Promise<Transaction>;
    _getFakeTransaction(txParams: TransactionParams): Promise<Transaction>;
    runTransactionInNewBlock(tx: Transaction): Promise<RunBlockResult>;
    mineEmptyBlock(): Promise<RunBlockResult>;
    runCall(call: CallParams): Promise<Buffer>;
    getAccountBalance(address: Buffer): Promise<BN>;
    getAccountNonce(address: Buffer): Promise<BN>;
    getLatestBlock(): Promise<Block>;
    getLocalAccountAddresses(): Promise<string[]>;
    getBlockGasLimit(): Promise<BN>;
    estimateGas(txParams: TransactionParams): Promise<BN>;
    getGasPrice(): Promise<BN>;
    getCoinbaseAddress(): Promise<Buffer>;
    getStorageAt(address: Buffer, slot: BN): Promise<Buffer>;
    getBlockByNumber(blockNumber: BN): Promise<Block | undefined>;
    getBlockByHash(hash: Buffer): Promise<Block | undefined>;
    getBlockByTransactionHash(hash: Buffer): Promise<Block | undefined>;
    getBlockTotalDifficulty(block: Block): Promise<BN>;
    getCode(address: Buffer): Promise<Buffer>;
    increaseTime(increment: BN): Promise<void>;
    getTimeIncrement(): Promise<BN>;
    getSuccessfulTransactionByHash(hash: Buffer): Promise<Transaction | undefined>;
    getTxBlockResults(block: Block): Promise<TxBlockResult[] | undefined>;
    getPendingTransactions(): Promise<Transaction[]>;
    signPersonalMessage(address: Buffer, data: Buffer): Promise<ECDSASignature>;
    signTypedData(address: Buffer, typedData: any): Promise<string>;
    getStackTraceFailuresCount(): Promise<number>;
    takeSnapshot(): Promise<number>;
    revertToSnapshot(id: number): Promise<boolean>;
    createBlockFilter(): Promise<number>;
    uninstallFilter(filterId: number): Promise<boolean>;
    isBlockFilter(filterId: number): Promise<boolean>;
    getBlockFilterChanges(filterId: number): Promise<string[] | undefined>;
    private _getSnapshotIndex;
    private _initLocalAccounts;
    private _printLogs;
    private _manageErrors;
    private _getNextBlockTemplate;
    private _getNextBlockTimestamp;
    private _saveTransactionAsReceived;
    private _getLocalAccountPrivateKey;
    private _addTransactionToBlock;
    private _saveBlockAsSuccessfullyRun;
    private _putBlock;
    private _hasBlockWithHash;
    private _saveTransactionAsSuccessfullyRun;
    private _transactionWasSuccessful;
    private _timestampClashesWithPreviousBlockOne;
    private _increaseBlockTimestamp;
    private _validateTransaction;
    private _computeTotalDifficulty;
    private _correctInitialEstimation;
    private _binarySearchEstimation;
    private _runTxAndRevertMutations;
}
//# sourceMappingURL=node.d.ts.map